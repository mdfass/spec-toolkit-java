<?xml version="1.0" encoding="UTF-8"?>
<specification xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xmlns="https://magento.com/open-specification"
               xsi:schemaLocation="https://magento.com/open-specification ../specification.xsd">

    <module name="magento.logistics">

        <service name="pick_list_repository">
            <summary>Pick list Repository</summary>

            <query name="search">
                <summary>Search pick-lists by criteria</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="query">
                        <summary>Query</summary>
                        <type>magento.common.query</type>
                        <required>false</required>
                    </argument>
                </arguments>
                <returns>magento.logistics.pick_list_collection</returns>
                <searchable_fields>
                    <field name="id">
                        <summary>Picklist Id</summary>
                    </field>
                    <field name="source_id">
                        <summary>Source Id</summary>
                    </field>
                    <field name="status">
                        <summary>Picklist status</summary>
                    </field>
                    <field name="origin_date">
                        <summary>Date the picklist was created</summary>
                    </field>
                </searchable_fields>
            </query>
        </service>

        <service name="pick_list_management">
            <summary>Pick-list Management</summary>

            <event name="created">
                <summary>Notification about a new pick list generated for a specific source</summary>
                <extensible>true</extensible>
                <status>draft</status>
                <arguments>
                    <argument name="pick_list">
                        <summary>Pick-list</summary>
                        <type>magento.logistics.pick_list</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </event>


            <event name="updated">
                <summary>Notification about a pick list updated for a specific source</summary>
                <extensible>true</extensible>
                <status>draft</status>
                <arguments>
                    <argument name="pick_list">
                        <summary>Pick-list</summary>
                        <type>magento.logistics.pick_list</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </event>

            <command name="create">
                <summary>Create a pick-list</summary>
                <description>
                    Generates a new pick-list for the specified source
                </description>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="source_id">
                        <summary>Source ID</summary>
                        <type>string</type>
                        <required>true</required>
                    </argument>
                    <argument name="shipment_requests_ids">
                        <summary>Shipment requests ids which will compose the picklist</summary>
                        <type>array[string]</type>
                        <required>false</required>
                    </argument>
                    <argument name="user">
                        <summary>User name</summary>
                        <type>string</type>
                        <required>false</required>
                    </argument>
                </arguments>
            </command>

            <command name="distribute">
                <summary>Distribute a pick-list</summary>
                <description>
                    Distribute all confirmed items for the specified pick-list
                </description>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="pick_list_id">
                        <summary>Pick-list ID</summary>
                        <type>string</type>
                        <required>true</required>
                    </argument>
                    <argument name="user">
                        <summary>User name</summary>
                        <type>string</type>
                        <required>false</required>
                    </argument>
                </arguments>
            </command>

            <command name="confirm_shipping">
                <summary>Confirm shipping</summary>
                <description>
                    Ship from store confirm shipping
                </description>
                <extensible>false</extensible>
                <status>draft</status>
                <arguments>
                    <argument name="pick_list_id">
                        <summary>Pick-list ID</summary>
                        <type>string</type>
                        <required>true</required>
                    </argument>
                    <argument name="pick_list_line_number">
                        <summary>Pick list line number</summary>
                        <type>integer</type>
                        <required>true</required>
                    </argument>
                    <argument name="user">
                        <summary>User name</summary>
                        <type>string</type>
                        <required>false</required>
                    </argument>
                </arguments>
            </command>

            <command name="pick_items">
                <summary>Confirm or decline pick-list items</summary>
                <description>
                    Action to confirm or decline the picking of items within a pick list
                </description>
                <extensible>false</extensible>
                <status>draft</status>
                <arguments>
                    <argument name="pick_list_id">
                        <summary>Pick-list ID</summary>
                        <type>string</type>
                        <required>true</required>
                    </argument>
                    <argument name="sku">
                        <summary>SKU</summary>
                        <type>string</type>
                        <required>true</required>
                    </argument>
                    <argument name="confirmed_qty">
                        <summary>Number of elements of specified sku to confirm</summary>
                        <type>integer</type>
                        <required>true</required>
                    </argument>
                    <argument name="declined_items">
                        <summary>Declined items</summary>
                        <type>array[magento.logistics.declined_items]</type>
                        <required>false</required>
                    </argument>
                    <argument name="user">
                        <summary>User name</summary>
                        <type>string</type>
                        <required>false</required>
                    </argument>
                </arguments>
            </command>

            <command name="cancel_item">
                <summary>Cancel a pick-list item</summary>
                <description>
                    Cancel item option from a pick-list line
                </description>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="pick_list_id">
                        <summary>Pick-list ID</summary>
                        <type>string</type>
                        <required>true</required>
                    </argument>
                    <argument name="pick_list_line_number">
                        <summary>Pick-list line number</summary>
                        <type>integer</type>
                        <required>true</required>
                    </argument>
                    <argument name="item_option_id">
                        <summary>Item option ID</summary>
                        <type>string</type>
                        <required>true</required>
                    </argument>
                    <argument name="box_number">
                        <summary>Box number</summary>
                        <type>integer</type>
                        <required>true</required>
                    </argument>
                    <argument name="quantity">
                        <summary>How many elements of specified item option to cancel</summary>
                        <type>integer</type>
                        <required>true</required>
                    </argument>
                    <argument name="user">
                        <summary>User name</summary>
                        <type>string</type>
                        <required>false</required>
                    </argument>
                </arguments>
            </command>

            <query name="request_packing_slip">
                <summary>Packing slip generation</summary>
                <extensible>true</extensible>
                <status>draft</status>
                <arguments>
                    <argument name="packing_slips">
                        <summary>List of packing slips</summary>
                        <type>array[magento.logistics.packing_slip]</type>
                        <required>true</required>
                    </argument>
                </arguments>
                <returns>magento.logistics.packing_slip_result</returns>
            </query>
        </service>

        <struct name="packing_slip_result">
            <summary>Packing slip</summary>
            <extensible>false</extensible>
            <properties>
                <property name="url">
                    <summary>Url of the generated document</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
            </properties>
        </struct>

        <struct name="pick_list_collection">
            <summary>Pick list Collection</summary>
            <extensible>false</extensible>
            <properties>
                <property name="offset">
                    <summary>Search result offset</summary>
                    <type>integer</type>
                    <required>false</required>
                </property>
                <property name="size">
                    <summary>Max number of entries</summary>
                    <type>integer</type>
                    <required>false</required>
                </property>
                <property name="total">
                    <summary>Total number of records matching search query</summary>
                    <type>integer</type>
                    <required>false</required>
                </property>
                <property name="items">
                    <summary>Matching pick lists</summary>
                    <type>array[magento.logistics.pick_list]</type>
                    <required>false</required>
                </property>
            </properties>
        </struct>

        <struct name="declined_items">
            <summary>Declined item</summary>
            <extensible>false</extensible>
            <properties>
                <property name="qty">
                    <summary>Amount to decline</summary>
                    <type>integer</type>
                    <required>true</required>
                </property>
                <property name="reason">
                    <summary>Reason</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
            </properties>
        </struct>

        <struct name="pick_list">
            <summary>Represents a pick-list of one or several items</summary>
            <extensible>true</extensible>
            <properties>
                <property name="id">
                    <summary>Pick-list ID</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="source_id">
                    <summary>Source ID to which the pick list belongs to</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="status">
                    <summary>Pick-list status</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="origin_date">
                    <summary>Date in which the pick list was generated</summary>
                    <type>datetime</type>
                    <required>false</required>
                </property>
                <property name="items">
                    <summary>List of Pick-list items related to one sku (see pick_list_item structure)</summary>
                    <type>array[magento.logistics.pick_list_item]</type>
                    <required>true</required>
                </property>
                <property name="shipment_requests">
                    <summary>List of shipment requests included on this pick list</summary>
                    <type>array[magento.logistics.shipment_request]</type>
                    <required>true</required>
                </property>
            </properties>
        </struct>

        <struct name="pick_list_item">
            <summary>An item in a pick-list</summary>
            <extensible>true</extensible>
            <properties>
                <property name="line_number">
                    <summary>Pick-list line number</summary>
                    <type>integer</type>
                    <required>true</required>
                </property>
                <property name="sku">
                    <summary>SKU identifier of the item</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="item_option_id">
                    <summary>Item Option ID</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="status">
                    <summary>Pick-list item/sku status</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="status_reason">
                    <summary>Status reason selected, used mainly when declining the picking</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="product_name">
                    <summary>Name of the product</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="custom_attributes">
                    <summary>Custom attributes with relevant item information</summary>
                    <type>array[magento.common.custom_attribute]</type>
                    <required>false</required>
                </property>
                <property name="package">
                    <summary>Package information</summary>
                    <type>magento.logistics.package</type>
                    <required>false</required>
                </property>
            </properties>
        </struct>

        <struct name="packing_slip">
            <summary>Packing slip</summary>
            <extensible>true</extensible>
            <properties>
                <property name="shipment_request_id">
                    <summary>ID of the Shipment request</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="sales_channel_id">
                    <summary>Store from the order</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="order_id">
                    <summary>Reference to the order</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="origin_date">
                    <summary>Date when order was created</summary>
                    <type>datetime</type>
                    <required>false</required>
                </property>
                <property name="language">
                    <summary>Language of the order</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="shipping_method">
                    <summary>Shipping Method</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="shipping_address">
                    <summary>Shipping address</summary>
                    <type>magento.common.address</type>
                    <required>true</required>
                </property>
                <property name="billing_address">
                    <summary>Billing address</summary>
                    <type>magento.common.address</type>
                    <required>true</required>
                </property>
                <property name="items">
                    <summary>List of items</summary>
                    <type>array[magento.logistics.item]</type>
                    <required>true</required>
                </property>
            </properties>
        </struct>

    </module>
</specification>
