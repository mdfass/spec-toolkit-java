<?xml version="1.0" encoding="UTF-8"?>
<specification xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xmlns="https://magento.com/open-specification"
               xsi:schemaLocation="https://magento.com/open-specification ../specification.xsd">

    <module name="magento.sales">

        <service name="preorder_management">
            <summary>Pre-order Management</summary>

            <command name="change_street_date">
                <summary>Change the street date for the specified pre-ordered items.</summary>
                <description>Change the street date for the pre-ordered items specified in the command. Will not change
                    order items with street dates in the past, or that have already been allocated or otherwise
                    finalized.</description>
                <extensible>false</extensible>
                <status>beta</status>

                <arguments>
                    <argument name="skus">
                        <summary>The SKUs of the pre-ordered items to be updated.</summary>
                        <type>array[string]</type>
                        <required>true</required>
                    </argument>

                    <argument name="current_street_date">
                        <summary>Only update the pre-ordered items that have this street date.</summary>
                        <description>Only update the pre-ordered items that have this current street date. This
                            includes all street dates within the same hour as specified.</description>
                        <type>datetime</type>
                        <required>false</required>
                    </argument>

                    <argument name="new_street_date">
                        <summary>The new street date for the pre-ordered items.</summary>
                        <type>datetime</type>
                        <required>true</required>
                    </argument>

                    <argument name="ship_to_countries">
                        <summary>Only update the pre-ordered items with a ship to country in this list.</summary>
                        <type>array[string]</type>
                        <required>false</required>
                    </argument>

                    <argument name="sales_channel_ids">
                        <summary>Only update the pre-ordered items for the specified sales channels.</summary>
                        <type>array[string]</type>
                        <required>false</required>
                    </argument>
                </arguments>
            </command>

            <event name="street_date_changed">
                <summary>Notification that the street date for pre-ordered items has changed.</summary>
                <extensible>false</extensible>
                <status>beta</status>
                <arguments>
                    <argument name="skus">
                        <summary>The SKUs of the pre-ordered items that were updated.</summary>
                        <type>array[string]</type>
                        <required>true</required>
                    </argument>

                    <argument name="previous_street_date">
                        <summary>The previous street date for the pre-ordered items.</summary>
                        <type>datetime</type>
                        <required>false</required>
                    </argument>

                    <argument name="new_street_date">
                        <summary>The new street date for the pre-ordered items.</summary>
                        <type>datetime</type>
                        <required>true</required>
                    </argument>

                    <argument name="ship_to_countries">
                        <summary>The ship to countries for which the street date was updated.</summary>
                        <type>array[string]</type>
                        <required>false</required>
                    </argument>

                    <argument name="sales_channel_ids">
                        <summary>The sales channels in which the street date was updated.</summary>
                        <type>array[string]</type>
                        <required>false</required>
                    </argument>

                </arguments>
            </event>
        </service>
    </module>
</specification>
