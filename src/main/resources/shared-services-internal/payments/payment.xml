<?xml version="1.0" encoding="UTF-8"?>
<specification xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xmlns="https://magento.com/open-specification"
               xsi:schemaLocation="https://magento.com/open-specification ../specification.xsd">

    <module name="magento.payments">

        <service name="payments_management">
            <summary>Payments Management</summary>

            <command name="validate">
                <summary>Validate a payment</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_validated">
                <summary>Notify payment succesfully validated</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_validation_failed">
                <summary>Notify payment validation failed</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="capture">
                <summary>Capture a payment</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_captured">
                <summary>Notify payment succesfully captured</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_capture_failed">
                <summary>Notify payment capture failed</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="cancel">
                <summary>Cancel a payment</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_cancelled">
                <summary>Notify payment succesfully cancelled</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_cancellation_failed">
                <summary>Notify payment cancellation failed</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="refund">
                <summary>Refund a payment</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_refunded">
                <summary>Notify payment succesfully refunded</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_refund_failed">
                <summary>Notify payment refund failed</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="revalidate">
                <summary>Revalidate a payment</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_revalidated">
                <summary>Notify payment succesfully revalidated</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
            <command name="notify_revalidation_failed">
                <summary>Notify payment revalidation failed</summary>
                <extensible>false</extensible>
                <status>public</status>
                <arguments>
                    <argument name="payment">
                        <summary>Payment</summary>
                        <type>magento.payments.payment</type>
                        <required>true</required>
                    </argument>
                </arguments>
            </command>
        </service>

        <struct name="payment">
            <summary>Represents a payment</summary>
            <extensible>true</extensible>
            <properties>
                <property name="gateway">
                    <summary>Payment gateway provider</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="gateway_account">
                    <summary>Gateway account</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="gateway_key">
                    <summary>Gateway key that identifies the payment in the payment provider</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="amount">
                    <summary>Amount of the payment transaction</summary>
                    <type>float</type>
                    <required>true</required>
                </property>
                <property name="currency">
                    <summary>Currency of the payment transaction</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="order_id">
                    <summary>Reference to the order</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="operation_reference">
                    <summary>Reference to the payment operation</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="new_gateway_key">
                    <summary>New gateway key that identifies the payment at the payment provider</summary>
                    <description>New gateway key typically used when a payment is successfully revalidated with a newly created payment.</description>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="lines">
                    <summary>List of lines in the payment transaction</summary>
                    <type>array[magento.payments.payment_line]</type>
                    <required>false</required>
                </property>
                <property name="method_details">
                    <summary>Method details for the payment transaction</summary>
                    <type>magento.payments.payment_method_details</type>
                    <required>false</required>
                </property>
                <property name="gateway_command">
                    <summary>Gateway command Indentifier</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="gateway_response">
                    <summary>Raw gateway response for the operation requested</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="gateway_response_time">
                    <summary>gateway response execution time for the operation requested</summary>
                    <type>float</type>
                    <required>false</required>
                </property>
                <property name="custom_attributes">
                    <summary>Custom Attributes</summary>
                    <type>array[magento.common.custom_attribute]</type>
                    <required>false</required>
                </property>
            </properties>
        </struct>

        <struct name="payment_line">
            <summary>Payment line information</summary>
            <extensible>true</extensible>
            <properties>
                <property name="line_number">
                    <summary>Order line Number</summary>
                    <type>integer</type>
                    <required>true</required>
                </property>
                <property name="item_name">
                    <summary>Item name</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="item_sku">
                    <summary>Item sku identifier</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="item_type">
                    <summary>Type of the item product</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="quantity">
                    <summary>Order line quantity</summary>
                    <type>integer</type>
                    <required>true</required>
                </property>
                <property name="unit_price_gross">
                    <summary>Original gross unit price of the item</summary>
                    <type>float</type>
                    <required>true</required>
                </property>
                <property name="refund_amount">
                    <summary>Gross amount to be refunded</summary>
                    <type>float</type>
                    <required>false</required>
                </property>
                <property name="tax_amount">
                    <summary>Tax amount of the order line</summary>
                    <type>float</type>
                    <required>false</required>
                </property>
                <property name="tax_rate">
                    <summary>Tax rate applied</summary>
                    <type>float</type>
                    <required>false</required>
                </property>
            </properties>
        </struct>

        <struct name="payment_method_details">
            <summary>Payment Specific Information</summary>
            <extensible>true</extensible>
            <properties>
                <property name="method">
                    <summary>Payment method</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="submethod">
                    <summary>Payment submethod</summary>
                    <type>string</type>
                    <required>true</required>
                </property>
                <property name="card">
                    <summary>Card Details Information</summary>
                    <type>magento.payments.payment_card_details</type>
                    <required>false</required>
                </property>
                <property name="bank">
                    <summary>Bank Details Information</summary>
                    <type>magento.payments.payment_bank_details</type>
                    <required>false</required>
                </property>
            </properties>
        </struct>

        <struct name="payment_card_details">
            <summary>Payment Card details</summary>
            <extensible>true</extensible>
            <properties>
                <property name="bin">
                    <summary>Card bin (Bank Identification Number)</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="last_four_digits">
                    <summary>Last four digits of the credit card</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="expiration_year">
                    <summary>Expiration year of the credit card</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="expiration_month">
                    <summary>Expiration month of the credit card</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="authorization_code">
                    <summary>Authorization code of the transaction</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="avs_response_code">
                    <summary>Avs (Address Verification System) response code</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="cvv_response_code">
                    <summary>Cvv (Card Verification Value) response code</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
            </properties>
        </struct>

        <struct name="payment_bank_details">
            <summary>Payment Bank details</summary>
            <extensible>true</extensible>
            <properties>
                <property name="account_holder_name">
                    <summary>Account holder name</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="iban">
                    <summary>IBAN (International Bank Account Number)</summary>
                    <type>string</type>
                    <required>false</required>
                </property>
                <property name="security_indicator">
                    <summary>Security indicator</summary>
                    <type>integer</type>
                    <required>false</required>
                </property>
            </properties>
        </struct>

    </module>

</specification>
